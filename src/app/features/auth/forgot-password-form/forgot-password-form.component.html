<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Récupération de mot de passe</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>

    </style>
</head>
<body>
    <div class="password-reset-container">
    <div class="password-reset-card">
        <div class="password-reset-header">
            <div class="password-reset-icon">
                <i class="fas fa-lock"></i>
            </div>
            <h1 class="password-reset-title">Mot de passe oublié?</h1>
            <p class="password-reset-subtitle">Entrez votre adresse email et nous vous enverrons un lien pour réinitialiser votre mot de passe.</p>
        </div>

        <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
            <!-- Message de succès -->
            <div *ngIf="successMessage" class="alert alert-success">
                <i class="fas fa-check-circle" aria-hidden="true"></i>
                <span>{{ successMessage }}</span>
            </div>

            <!-- Message d'erreur -->
            <div *ngIf="errorMessage" class="alert alert-error">
                <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
                <span>{{ errorMessage }}</span>
            </div>

            <div class="form-group">
                <label for="email" class="form-label">Adresse email *</label>
                <input
                    type="email"
                    class="form-input"
                    id="email"
                    formControlName="email"
                    placeholder="votre@email.com"
                    required>
                <div class="error-message" *ngIf="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">
                    Veuillez saisir une adresse email valide
                </div>
            </div>

            <button
                type="submit"
                class="btn btn-primary"
                [disabled]="isLoading || forgotPasswordForm.invalid">
                <i class="fas fa-paper-plane" aria-hidden="true"></i>
                <span *ngIf="!isLoading">Envoyer le lien de réinitialisation</span>
                <div *ngIf="isLoading">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
            </button>

            <button
                type="button"
                class="btn btn-secondary"
                (click)="goBackToLogin()">
                <i class="fas fa-arrow-left" aria-hidden="true"></i>
                Retour à la connexion
            </button>
        </form>

        <div class="password-reset-footer">
            <p>Vous n'avez pas de compte? <a href="#">Contactez votre administrateur</a></p>
        </div>
    </div>
</div>
</body>
</html>
